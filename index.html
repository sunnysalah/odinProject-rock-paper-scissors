<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <button id="ROCK">Rock</button>
    <button id="PAPER">Paper</button>
    <button id="SCISSORS">Scissors</button>
    <div class="userScore">User Score: </div>
    <div class="computerScore">Computer Score: </div>
    <div class="result"></div>

    <script>
        const computerChoiceArray = ["ROCK", "PAPER", "SCISSORS"];
        const buttons = document.querySelectorAll("button");
        const result = document.querySelector(".result");
        const userResult = document.querySelector(".userScore");
        const computerResult = document.querySelector(".computerScore");

        let userScore = 0;
        let computerScore = 0;
        let round = 0;


        buttons.forEach((button) => {
            button.addEventListener('click', () => {
                let userChoice = button.getAttribute("id").toUpperCase();
                let computerChoice = getComputerChoice();
                let score = playRound(userChoice,computerChoice);
                if(score == 0){
                    userScore++;
                }else if(score == 1){
                    computerScore++;
                }
                round++;
                console.log(userScore, computerScore, round);
                userResult.textContent = "User Score: " + userScore;
                computerResult.textContent = "Computer Score: " + computerScore;
                if(round == 5){
                    if(userScore > computerScore){
                        result.textContent = "You win!";
                    }else if(userScore == computerScore){
                        result.textContent = "Tie game!";
                    }else{
                        result.textContent = "You lose!";
                    }
                    userScore = 0; //reset game
                    computerScore = 0;
                    round = 0;
                }
            })
        })

        function getComputerChoice() {
            return computerChoiceArray[Math.floor((Math.random() * 2))];
        }


        function playRound(userChoice, computerChoice){
            if(userChoice === 'ROCK' && computerChoice === 'PAPER' ){
                result.textContent = "You chose rock, computer chose paper. Computer wins!";
                return 1;
            }else if(userChoice === 'ROCK' && computerChoice === 'SCISSORS'){
                result.textContent = "You chose rock, computer chose scissors. You win!";
                return 0;
            }else if(userChoice === 'ROCK' && computerChoice === 'ROCK'){
                result.textContent = "You both chose rock. Tie game!";
            }else if(userChoice === 'PAPER' && computerChoice === 'ROCK'){
                result.textContent = "You chose Paper, computer chose rock. You win!";
                return 0;
            }else if(userChoice === 'PAPER' && computerChoice === 'SCISSORS'){
                result.textContent = "You chose Paper, computer chose scissors. Computer wins!";
                return 1;
            }else if(userChoice === 'PAPER' && computerChoice === 'PAPER'){
                result.textContent = "You both chose paper. Tie game!";
            }else if(userChoice === 'SCISSORS' && computerChoice === 'ROCK'){
                result.textContent = "You chose scissors, computer chose rock. Computer wins!";
                return 1;
            }else if(userChoice === 'SCISSORS' && computerChoice === 'PAPER'){
                result.textContent = "You chose scissors, computer chose paper. You win!";
                return 0;
            }else if(userChoice === 'SCISSORS' && computerChoice === 'SCISSORS'){
                result.textContent = "You both chose scissors. Tie game!";
            }
        }  
        


    </script>



</body>

</html>